<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Bash on Purplecarrot</title><link>https://purplecarrot.co.uk/tags/bash/</link><description>Recent content in Bash on Purplecarrot</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><lastBuildDate>Mon, 16 May 2011 22:01:00 +0100</lastBuildDate><atom:link href="https://purplecarrot.co.uk/tags/bash/index.xml" rel="self" type="application/rss+xml"/><item><title>Who logs in the most?</title><link>https://purplecarrot.co.uk/2011/05/16/who-logs-in-most/</link><pubDate>Mon, 16 May 2011 22:01:00 +0100</pubDate><guid>https://purplecarrot.co.uk/2011/05/16/who-logs-in-most/</guid><description>
&lt;p>I work in a firm with 10s of 1000s of Linux servers. A colleague had been emailed a list of servers and was trying to find out who owned them. At first, I suggested running last to see who last logged in but we realised this probably wasn't the best way to start the hunt. On reflection, the was a high chance that the user who logged in the &lt;em>most&lt;/em> frequently into the server, was the the owner of that server. Or if not, he would most likely know the owner ;-)&lt;/p>
&lt;p>So I used this 30 second one liner (wrapped for viewability) to list most frequent users:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-perl" data-lang="perl">&lt;span class="ln"> 1&lt;/span>&lt;span class="nv">$&lt;/span> &lt;span class="nv">last&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">perl&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">lane&lt;/span> &lt;span class="s">&amp;#39;$users{$F[0]}++; END {
&lt;/span>&lt;span class="ln"> 2&lt;/span>&lt;span class="s">foreach $u (reverse sort { $users{$a} &amp;lt;=&amp;gt; $users{b} } keys %users)
&lt;/span>&lt;span class="ln"> 3&lt;/span>&lt;span class="s">{ print &amp;#34;$u logged in $users{$u} times&amp;#34;; } }&amp;#39;&lt;/span>
&lt;span class="ln"> 4&lt;/span>&lt;span class="n">tom&lt;/span> &lt;span class="n">logged&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="mi">108&lt;/span> &lt;span class="nb">times&lt;/span>
&lt;span class="ln"> 5&lt;/span>&lt;span class="n">sally&lt;/span> &lt;span class="n">logged&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="mi">81&lt;/span> &lt;span class="nb">times&lt;/span>
&lt;span class="ln"> 6&lt;/span>&lt;span class="n">dave&lt;/span> &lt;span class="n">logged&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="mi">32&lt;/span> &lt;span class="nb">times&lt;/span>
&lt;span class="ln"> 7&lt;/span>&lt;span class="n">root&lt;/span> &lt;span class="n">logged&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="mi">27&lt;/span> &lt;span class="nb">times&lt;/span>
&lt;span class="ln"> 8&lt;/span>&lt;span class="n">richard&lt;/span> &lt;span class="n">logged&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="nb">times&lt;/span>
&lt;span class="ln"> 9&lt;/span>&lt;span class="n">admin&lt;/span> &lt;span class="n">logged&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="nb">times&lt;/span>
&lt;span class="ln">10&lt;/span>&lt;span class="n">wtmp&lt;/span> &lt;span class="n">logged&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="nb">times&lt;/span>
&lt;span class="ln">11&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>