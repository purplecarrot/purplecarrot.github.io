<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Gnome on Purplecarrot</title><link>https://purplecarrot.co.uk/tags/gnome/</link><description>Recent content in Gnome on Purplecarrot</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><lastBuildDate>Thu, 24 Sep 2015 20:57:00 +0100</lastBuildDate><atom:link href="https://purplecarrot.co.uk/tags/gnome/index.xml" rel="self" type="application/rss+xml"/><item><title>Fedora 22, Wayland and Multiple Monitors</title><link>https://purplecarrot.co.uk/2015/09/24/fedora-22-wayland-and-multiple-monitors/</link><pubDate>Thu, 24 Sep 2015 20:57:00 +0100</pubDate><guid>https://purplecarrot.co.uk/2015/09/24/fedora-22-wayland-and-multiple-monitors/</guid><description>
&lt;p>By default, a new Fedora installation or a fedup upgrade on my dual monitor machine will result in GDM displaying the list of users and login screen on my left hand monitor. But I want it on my right hand monitor...&lt;/p>
&lt;p>Up until now, I simply logged in and set up the configuration I wanted using Settings -&amp;gt; Displays. Then I took the ~/.config/monitors.xml file that is generated and copied it to /var/lib/gdm/.config/monitors.xml ready for GDM to use.&lt;/p>
&lt;p>However, with Fedora 22, it appears that GDM is set to use Wayland, however once you login to a session, it continues to use X. This new Wayland config uses slightly different XML directives in the monitors.xml meaning a simple copy of your ~/.config/monitors.xml to /var/lib/gdm/.config/monitors.xml no longer works.&lt;/p>
&lt;p>To work around this, click on the cog and select GNOME on Wayland. Then setup the Displays as you need them and then copy the ~/.config/monitors.xml file (which will be in &amp;quot;Wayland&amp;quot; format) again to /var/lib/gdm/.config/monitors.xml and restart GDM (there may be a better way, but I switch to a virtual console and do init 3 followed by init 5)&lt;/p>
&lt;p>Then your GDM login screen will be correctly setup.&lt;/p>
&lt;p>&lt;em>UPDATE 20151008: After upgrading to latest rpm set last night, this is now broken again and GDM is displaying the login on the monitor I don't want it to be on. I verified the monitors.xml file for gdm was correct, but for some reason gdm doesn't appear to be honoring it. Not being something I want to investigate, I decided to just disable Wayland for the moment by adding the WaylandEnable=False /etc/gdm/custom.conf :-)&lt;/em>&lt;/p></description></item><item><title>Configuring GNOME 3 Desktop and Shell</title><link>https://purplecarrot.co.uk/2014/05/13/configuring-gnome-3-desktop-and-shell/</link><pubDate>Tue, 13 May 2014 17:30:00 +0100</pubDate><guid>https://purplecarrot.co.uk/2014/05/13/configuring-gnome-3-desktop-and-shell/</guid><description>
&lt;p>When it comes to customising GNOME, its config has always confused me - gconf, dconf, gconf-edit, gconftool - what are they all for? The furthest I've ever delved into them was copying and pasting some tips (give me my minimize and maximize buttons back!).&lt;/p>
&lt;p>My Linux work is almost exclusively with headless servers sitting in data centres I never see, so I've never taken the trouble to read or understand GNOME configuration. There has been lots of &lt;a href="http://http//en.wikipedia.org/wiki/Controversy_over_GNOME_3">controversy&lt;/a> over GNOME 3. I'm all for change, but if only the configuration of GNOME 3 was easy a little easier. Most options aren't available to set in the GUI control panel, but there are plenty of options to be set. Unfortunately they tend to be hidden away and it is not at all clear how to set common settings. In turn, because of GNOME changes between versions, googling GNOME config finds much inaccurate or at best, out of date information.&lt;/p>
&lt;p>It was time to properly understand all these things.&lt;/p>
&lt;p>Forget gconftool, gconf-edit and scripts that sed gschema XML files (yes, there are some people sed'ing XML files out there!). For GNOME 3 on Fedora 20 (RHEL 7), there are two tools of interest: gsettings and dconf-editor
This is best illustrated by way of an example. Here is a list of common settings I put as default on my Fedora desktops. They should be pretty self-explanatory. The links below contain list of further configuration settings you can apply. I only wish these were more readily exposed in the GUI.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1"># Show Date in Gnome Shell Title Bar&lt;/span>
&lt;span class="ln"> 2&lt;/span>&lt;span class="n">cat&lt;/span> \&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">lt&lt;/span>&lt;span class="p">;&lt;/span>\&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">eof&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">share&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">glib&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">2.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">schemas&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mysettings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gschema&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">override&lt;/span>
&lt;span class="ln"> 3&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">org&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gnome&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">desktop&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">interface&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="ln"> 4&lt;/span>&lt;span class="n">clock&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">date&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">true&lt;/span>
&lt;span class="ln"> 5&lt;/span>&lt;span class="n">always&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">true&lt;/span>
&lt;span class="ln"> 6&lt;/span>
&lt;span class="ln"> 7&lt;/span>&lt;span class="c1"># Set the default icons in the icon bar&lt;/span>
&lt;span class="ln"> 8&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">org&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gnome&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">desktop&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shell&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="ln"> 9&lt;/span>&lt;span class="n">favorite&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apps&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;firefox.desktop&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;google-chrome.desktop&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gnome-terminal.desktop&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;shotwell.desktop&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;nautilus.desktop&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;system-config-printer.desktop&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;minecraft.desktop&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="ln">10&lt;/span>
&lt;span class="ln">11&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">org&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gnome&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">desktop&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">screensaver&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="ln">12&lt;/span>&lt;span class="n">idle&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">activation&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">enabled&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">false&lt;/span>
&lt;span class="ln">13&lt;/span>
&lt;span class="ln">14&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">org&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gnome&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shell&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">overrides&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="ln">15&lt;/span>&lt;span class="n">button_layout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">minimize&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">maximize&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">close&lt;/span>
&lt;span class="ln">16&lt;/span>
&lt;span class="ln">17&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">org&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gnome&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Terminal&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Legacy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Profile&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="ln">18&lt;/span>&lt;span class="n">use&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">theme&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">colors&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">false&lt;/span>
&lt;span class="ln">19&lt;/span>&lt;span class="n">use&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">font&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">false&lt;/span>
&lt;span class="ln">20&lt;/span>&lt;span class="n">foreground&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;#ffffff&amp;#39;&lt;/span>
&lt;span class="ln">21&lt;/span>&lt;span class="n">background&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;#000000&amp;#39;&lt;/span>
&lt;span class="ln">22&lt;/span>&lt;span class="n">font&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;Inconsolata Medium 11&amp;#39;&lt;/span>
&lt;span class="ln">23&lt;/span>
&lt;span class="ln">24&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">eof&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>References&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/9-Beta/html/Desktop_Migration_and_Administration_Guide/gsettings-dconf.html">RedHat RHEL7 Desktop Migration and Administration Guide&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://developer.gnome.org/gio/stable/GSettings.html#GSettings.description">GNOME gsettings reference&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://askubuntu.com/questions/249887/gconf-dconf-gsettings-and-the-relationship-between-them">dconf, gconf and gsettings and the relationship between them&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Remote XDMCP Connection to GDM</title><link>https://purplecarrot.co.uk/2011/04/27/remote-xdmcp-connection-to-gdm/</link><pubDate>Tue, 27 Apr 2010 21:16:00 +0100</pubDate><guid>https://purplecarrot.co.uk/2011/04/27/remote-xdmcp-connection-to-gdm/</guid><description>
&lt;p>I always forget how to do this. And it always takes me ages to find out what I did last time. Edit /etc/gdm/custom.conf and add:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="ln">1&lt;/span>&lt;span class="k">[xdmcp]&lt;/span>
&lt;span class="ln">2&lt;/span>&lt;span class="na">enable&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;span class="ln">3&lt;/span>
&lt;span class="ln">4&lt;/span>&lt;span class="k">[greeter]&lt;/span>
&lt;span class="ln">5&lt;/span>&lt;span class="na">RemoteGreeter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/usr/libexec/gdmgreeter&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>